      <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" type="text/css">
      <link rel="stylesheet" href="/sweetalert2/sweetalert2.min.css" type="text/css">
      <link rel="stylesheet" href="/boxicons/boxicons.min.css" type="text/css">
      <link rel="stylesheet" href="/css/navSecretaria.min.css" type="text/css">
      <link rel="stylesheet" href="/css/profile.min.css" type="text/css">
      <link rel="stylesheet" href="/css/register.min.css" type="text/css">
      <link rel="stylesheet" href="/css/events.min.css" type="text/css">
      <link rel="stylesheet" href="/css/drapArea.min.css" type="text/css">

      <style>
         .wrapperImg img {
            object-fit: contain;;
         }
      </style>

   </head>

	<body>
      {{> loader}}
      {{> navBarP}}

      <div class="container p-30">
         <div class="borderPro">
            <div class="row">
               <div class="col-md-12 tittleSEC">
                  <div class="service__title">Foto de perfil</div>
               </div>
            </div>

            <div class="row">
               <div class="col-md-6 mx-auto">
                  {{> alerts}}
                  {{> errors}}
               </div>
            </div>

            <div class="row d-flex justify-content-center">
               <div class="col-md-6 d-flex justify-content-center">
                  <img src="/profile/{{photoProfile}}" style="width: 240px !important; height: 240px !important;" alt="Foto de perfil" class="mb-3 rounded-circle w-50" >
               </div>
            </div>

            <div class="row d-flex justify-content-center">
               <div class="col-md-3 d-flex justify-content-center">
                  <button class="btn__Add" onclick="changeProfile();">
                     <i class='bx bxs-file-image bx-tada' ></i>
                     Cambiar
                  </button>
               </div>
            </div>
         </div>
         
         <div class="borderPro mt-3 pr-3 pl-3">
            <div class="row">
               <div class="col-md-12 tittleSEC">
                  <div class="service__title">Datos personales</div>
               </div>
            </div>

            <div class="row">
               <div class="col-md-3">
                  <div class="form__div form__div-one">
                     <div class="form__icon">
                        <i class='bx bx-credit-card-front bx-tada' ></i>
                     </div>

                     <div class="form__div-input">
                        <label for="" class="form__label">Cédula</label>
                        <input type="text" class="form__input" name="cedula" id="cedula" onkeypress="return numeros(event)" onkeyUp="return Cedula(this);" maxlength="10" value="{{cedula}}" disabled>
                     </div>
                  </div>
               </div>

               <div class="col-md-3">
                  <div class="form__div form__div-one">
                     <div class="form__icon">
                        <i class='bx bx-user-circle bx-tada' ></i>
                     </div>

                     <div class="form__div-input">
                        <label for="" class="form__label">Apellidos</label>
                        <input type="text" class="form__input" id="apellidos" name="apellidos" value="{{apellidos}}" onkeypress="return letra(event)" required>
                     </div>
                  </div>
               </div>

               <div class="col-md-3">
                  <div class="form__div form__div-one">
                     <div class="form__icon">
                        <i class='bx bx-user-circle bx-tada' ></i>
                     </div>

                     <div class="form__div-input">
                        <label for="" class="form__label">Nombres</label>
                        <input type="text" class="form__input" id="nombres" name="nombres" value="{{nombres}}" onkeypress="return letra(event)" required>
                     </div>
                  </div>
               </div>

               <div class="col-md-3">
                  <div class="form__div form__div-one">
                     <div class="form__icon">
                        <i class='bx bx-cake bx-tada' ></i>
                     </div>

                     <div class="form__div-input">
                        <label for="" class="form__label">Fecha Nacimiento</label>
                        <input type="date" class="form__input" id="fech_nacimiento" name="fech_nacimiento" value="{{fechNacimiento}}" onkeypress="return date(event)" required>
                     </div>
                  </div>
               </div>

               <div class="col-md-3">
                  <div class="form__div form__div-one">
                     <div class="form__icon">
                        <i class='bx bx-user-pin bx-tada' ></i>
                     </div>

                     <div class="form__div-input">
                        <label for="" class="form__label">Género</label>
                        <select class="form__input" name="genero" id="genero" required>
                           <option value selected disabled>Seleccionar...</option>
                           <option value="Masculino">Masculino</option>
                           <option value="Femenino">Femenino</option>
                           <option value="No Definido">No Definido</option>
                        </select>
                     </div>
                  </div>
               </div>

               <div class="col-md-3">
                  <div class="form__div form__div-one">
                     <div class="form__icon">
                        <i class='bx bx-phone-call bx-tada' ></i>
                     </div>

                     <div class="form__div-input">
                        <label for="" class="form__label">Teléfono</label>
                        <input type="text" class="form__input" id="telefono" name="telefono" value="{{telefono}}" onkeypress="return numeros(event)" maxlength="10" required>
                     </div>
                  </div>
               </div>

               <div class="col-md-3">
                  <div class="form__div form__div-one">
                     <div class="form__icon">
                        <i class='bx bx-fingerprint bx-tada' ></i>
                     </div>

                     <div class="form__div-input">
                        <label for="" class="form__label">Privilegio</label>
                        <input type="text" class="form__input" id="privilegio" name="privilegio" value="{{privilegio}}" onkeypress="return letra(event)" disabled>
                     </div>
                  </div>
               </div>

               <div class="col-md-3">
                  <div class="form__div form__div-one">
                     <div class="form__icon">
                        <i class='bx bx-info-circle bx-tada' ></i>
                     </div>

                     <div class="form__div-input">
                        <label for="" class="form__label">Estado</label>
                        <input type="text" class="form__input" id="estado" name="estado" value="{{estado}}" onkeypress="return letra(event)" disabled>
                     </div>
                  </div>
               </div>

               <div class="col-md-4">
                  <div class="form__div form__div-one" style="margin-bottom: .8rem;">
                     <div class="form__icon">
                        <i class='bx bx-mail-send bx-tada' ></i>
                     </div>

                     <div class="form__div-input">
                        <label for="" class="form__label">Email</label>
                        <input type="email" class="form__input" name="email" id="email" value="{{email}}" required>
                     </div>
                  </div>
               </div>
            </div>

            <div class="row d-flex justify-content-end">
               <div class="col-md-3 d-flex justify-content-center">
                  <button class="btn__Add" onclick="updateData();">
                     <i class='bx bx-user-circle bx-tada' ></i>
                     Actualizar
                  </button>
               </div>
            </div>
         </div>
      </div>

      <br>

      <script src="/js/jquery-3.5.1.min.js"></script>
      <script src="/js/popper.min.js"></script>
      <script src="/bootstrap/js/bootstrap.min.js"></script>
      <script src="/sweetalert2/sweetalert2.min.js"></script>
      <script src="/js/navSecretaria.min.js"></script>
      <script src="/js/login.min.js"></script>
      <script src="/js/validation.min.js"></script>

      {{!-- Photo Profile --}}
      <div class="modal fade" id="modalChangePhoto" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header header__modal">
                  <h5 class="modal-title tittle__modal" id="staticBackdropLabel">
                     Cambiar foto de perfil
                  </h5>
               </div>

               <form enctype="multipart/form-data" action="/p/profile" method="POST">
                  <div class="modal-body body__modal">
                     <div class="row">
                        <div class="col-md-12">
                           <div class="containerImg">
                              <div class="wrapperImg">
                                 <div class="image">
                                    <img class="imgTrans"/>
                                 </div>
                                 <div class="content">
                                    <div class="icon">
                                       <i class='bx bx-cloud-upload' ></i>
                                    </div>
                                    <div class="text">¡Aún no se ha elegido ningún archivo!</div>
                                 </div>
                                 <div id="cancel-btn">
                                    <i class='bx bx-x' ></i>
                                 </div>
                                 <div class="file-name">Nombre de archivo aquí</div>
                              </div>
                              
                              <button type="button" onclick="defaultBtnActive()" id="custom-btn">
                                 Buscar archivo
                              </button>
   
                              <input id="default-btn" name="photo" type="file" accept="image/*" hidden required/>
                           </div>
                        </div>
                     </div>
                  </div>

                  <div class="modal-footer footer__modal">
                     <button type="button" class="btn__Close" data-dismiss="modal">Cerrar</button>

                     <button type="submit" class="btn__Send">Actualizar</button>
                  </div>
               </form>
            </div>
         </div>
      </div>

      <script src="/js/drapArea.min.js"></script>

      <script>
         $(document).ready(function(){
            $("#cedula").prop('disabled', true);
            $("#genero").val("{{genero}}");
            $("#privilegio").prop('disabled', true);
            $("#estado").prop('disabled', true);
            $(".form__div-one").addClass("focus");
         });

         const changeProfile = () => {
            $("#modalChangePhoto").modal('show');
         }

         const updateData = () => {
            apellidos = $.trim($('#apellidos').val());
            nombres = $.trim($('#nombres').val());
            fech_nacimiento = $.trim($('#fech_nacimiento').val());
            genero = $.trim($('#genero').val());
            telefono = $.trim($('#telefono').val());
            email = $.trim($('#email').val());

            if (
               apellidos === '' || 
               nombres === '' || 
               fech_nacimiento === '' || 
               genero === '' || 
               telefono === '' || 
               email === ''
            ) {
               Swal.fire({
                  position: 'top-end',
                  imageUrl: '/img/SMMIglesia.png',
                  imageWidth: 80,
                  imageHeight: 100,
                  imageAlt: 'SMM Iglesia',
                  title: 'CAMPOS VACÍOS',
                  html: `<p style="font-size: 1rem;">Los campos no pueden ir vacíos o con espacios.</p>`,
                  showConfirmButton: false,
                  timer: 1500,
                  allowOutsideClick: false
               })
            } else {
               Swal.fire({
                  title: `DATOS PERSONALES`,
                  html: `<p style="font-size: 1rem; margin-bottom: 0;">¿Deseas actualizar tus datos personales?</p>`,
                  imageUrl: '/img/SMMIglesia.png',
                  imageWidth: 80,
                  imageHeight: 100,
                  imageAlt: 'SMM Iglesia',
                  showCancelButton: true,
                  confirmButtonColor: '#049947',
                  cancelButtonColor: '#f34943',
                  confirmButtonText: 'Sí, actualizar!',
                  cancelButtonText: 'No, cancelar!',
                  reverseButtons: true,
                  focusConfirm: false,
                  focusCancel: true,
                  allowOutsideClick: false
               }).then((result) => {
                  if (result.value == true) {
                     bloqueointerface();

                     $.ajax({
                        url: `/p/profileData`,
                        type: 'POST',
                        dataType: 'json',
                        data: {
                           apellidos,
                           nombres,
                           fech_nacimiento,
                           genero,
                           telefono,
                           email
                        }
                     })
                     .done(function(res) {
                        desbloqueointerface();
                        
                        if (res.res === 'img') {
                           Swal.fire({
                              title: res.tittle,
                              html: `<p style="font-size: 1rem; margin-bottom: 0;">${res.description}</p>`,
                              imageUrl: res.icon,
                              imageWidth: 100,
                              imageHeight: 100,
                              imageAlt: 'SMM Iglesia',
                              allowOutsideClick: false
                           }).then((result) => {
                              if (result.value == true) {
                                 location.reload();
                              }
                           })
                        }

                        if (res.res === 'icon') {
                           Swal.fire({
                              title: res.tittle,
                              html: `<p style="font-size: 1rem; margin-bottom: 0;">${res.description}</p>`,
                              icon: res.icon,
                              allowOutsideClick: false
                           })
                        }
                     })
                     .fail(function() {
                        desbloqueointerface();
                        console.log("Error");
                     });
                  }
               })
            }
         }

      </script>